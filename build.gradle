buildscript {
    repositories {
        mavenCentral()
        maven { url 'https://plugins.gradle.org/m2/' }
    }
    dependencies { classpath 'com.blackducksoftware.integration:common-gradle-plugin:0.0.+' }
}

plugins { id 'groovy' }

project.ext.moduleName = 'com.synopsys.integration.jenkins-common'
project.ext.javaUseAutoModuleName = 'true'

group = 'com.synopsys.integration'
version = '0.1.2-SNAPSHOT'
description = 'Library for common Synopsys Jenkins plugin logic'
sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11

apply plugin: 'com.blackducksoftware.integration.library'

nexusStaging {
    packageGroup = 'com.synopsys'
    stagingProfileId = '4af8bea8300633'
}

repositories {
    // Included to resolve Jenkins and Jenkins plugin dependencies
    maven { url 'https://repo.jenkins-ci.org/releases/' }
}

dependencies {
    api 'com.blackducksoftware.integration:integration-rest:0.13.3'

    // Unfortunately, without making jenkins-common a fully fledged Jenkins plugin we cannot enforce dependencies on specific Jenkins versions
    // or Jenkins plugin versions in Jenkins plugins that depend on this library.
    // Jenkins plugins that depend on this library should therefore version those dependencies compatibly with the versions below:
    // --rotte DEC 2019
    compileOnly 'org.jenkins-ci.main:jenkins-core:2.60.1'

    compileOnly 'org.jenkins-ci.plugins:credentials:2.1.10@jar'
    compileOnly 'org.jenkins-ci.plugins:plain-credentials:1.0@jar'
}